

[127. å•è¯æ¥é¾™ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/word-ladder/description/)





çŸ¥è¯†ç‚¹ï¼šbfs

æœ¬é¢˜ç›®æ˜¯126é¢˜çš„ç®€åŒ–ç‰ˆï¼Œå› ä¸ºåªéœ€è¦æ±‚æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œè€Œä¸éœ€è¦æœé›†è¿™ä¸ªè·¯å¾„ï¼Œä¹Ÿå°±ä¸éœ€è¦å»ºåå‘å›¾äº†





```java
import java.util.*;

class Solution {
    public int ladderLength(String beginWord, String endWord, List<String> wordList) {
        // ç”¨ä¸¤ä¸ª HashSet åˆ†åˆ«è¡¨ç¤ºå½“å‰å±‚æ¬¡çš„å•è¯é›†åˆ (curLevel) å’Œä¸‹ä¸€å±‚æ¬¡çš„å•è¯é›†åˆ (nextLevel)
        HashSet<String> curLevel = new HashSet<>();
        HashSet<String> nextLevel = new HashSet<>();
        
        // å°† wordList è½¬æ¢æˆ HashSetï¼Œæ–¹ä¾¿ O(1) æ—¶é—´å¤æ‚åº¦æŸ¥æ‰¾
        HashSet<String> wdList = new HashSet<>(wordList);
        
        // æŠŠèµ·å§‹å•è¯åŠ å…¥å½“å‰å±‚æ¬¡é›†åˆ
        curLevel.add(beginWord);
        
        // å¦‚æœ endWord ä¸åœ¨ wordList ä¸­ï¼Œç›´æ¥è¿”å› 0
        if (!wdList.contains(endWord)) {
            return 0;
        }

        // è®°å½•è½¬æ¢æ¬¡æ•°ï¼ˆå³ BFS çš„å±‚æ•°ï¼‰ï¼Œåˆå§‹æ—¶ä¸º 1ï¼Œè¡¨ç¤ºèµ·ç‚¹å•è¯æœ¬èº«
        int ans = 1;

        // è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ (BFS)
        while (!curLevel.isEmpty()) {
            ans++; // è¿›å…¥ä¸‹ä¸€å±‚ï¼Œè½¬æ¢æ¬¡æ•°+1

            // å°†å½“å‰å±‚çš„æ‰€æœ‰å•è¯ä»å­—å…¸è¡¨ä¸­ç§»é™¤ï¼Œé¿å…é‡å¤è®¿é—®
            wdList.removeAll(curLevel);

            // éå†å½“å‰å±‚çš„æ‰€æœ‰å•è¯
            for (String word : curLevel) {
                char[] wordCharArray = word.toCharArray();

                // å¯¹å½“å‰å•è¯çš„æ¯ä¸€ä½è¿›è¡Œä¿®æ”¹
                for (int i = 0; i < wordCharArray.length; i++) {
                    char old = wordCharArray[i]; // å¤‡ä»½åŸæ¥çš„å­—ç¬¦
                    
                    // å°è¯•å°†å½“å‰å­—ç¬¦ä¿®æ”¹ä¸º 'a' åˆ° 'z' çš„æ‰€æœ‰å¯èƒ½
                    for (char j = 'a'; j <= 'z'; j++) {
                        wordCharArray[i] = j;
                        String newWord = new String(wordCharArray);

                        // ç¡®ä¿æ–°å•è¯ä¸ä¸åŸå•è¯ç›¸åŒï¼Œä¸”åœ¨å­—å…¸è¡¨ä¸­
                        if (!newWord.equals(word) && wdList.contains(newWord)) {
                            // å¦‚æœæ–°å•è¯æ˜¯ç›®æ ‡å•è¯ï¼Œåˆ™ç›´æ¥è¿”å›è½¬æ¢æ¬¡æ•°
                            if (newWord.equals(endWord)) {
                                return ans;
                            }
                            // å¦åˆ™å°†æ–°å•è¯åŠ å…¥ä¸‹ä¸€å±‚æ¬¡
                            nextLevel.add(newWord);
                        }
                    }

                    // æ¢å¤åŸå­—ç¬¦ï¼Œæ–¹ä¾¿ä¸‹æ¬¡ä¿®æ”¹
                    wordCharArray[i] = old;
                }
            }

            // äº¤æ¢ curLevel å’Œ nextLevelï¼Œå¼€å§‹ä¸‹ä¸€å±‚çš„æœç´¢
            HashSet<String> temp = curLevel;
            curLevel = nextLevel;
            nextLevel = temp;
            nextLevel.clear(); // æ¸…ç©º nextLevelï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡ä½¿ç”¨
        }

        // å¦‚æœæœç´¢å®Œä»æœªæ‰¾åˆ° endWordï¼Œè¿”å› 0
        return 0;
    }
}

    public static void main(String[] args) {

        Leetcode leetcode = new Leetcode();
        Solution solution = leetcode.new Solution();
        List<String> wordlist = new ArrayList<>();
        String[] arr = new String[]{"hot", "dot", "dog", "lot", "log"};
        wordlist.addAll(Arrays.asList(arr));
        int length = solution.ladderLength("hit", "cog", wordlist);
        System.out.println(length);

    }

```





### **ç¤ºä¾‹æ‰§è¡Œè¿‡ç¨‹**

#### **è¾“å…¥**

```
String beginWord = "hit";
String endWord = "cog";
List<String> wordList = Arrays.asList("hot", "dot", "dog", "lot", "log", "cog");
```

#### **æ‰§è¡Œæµç¨‹**

1. **åˆå§‹åŒ–**

   ```
   beginWord = "hit"
   endWord = "cog"
   wordList = {"hot", "dot", "dog", "lot", "log", "cog"}
   wdList = {"hot", "dot", "dog", "lot", "log", "cog"}
   curLevel = {"hit"}
   ans = 1
   ```

2. **ç¬¬ä¸€è½® BFS**

   - `curLevel = {"hit"}`, `ans = 2`
   - `"hit"` -> å˜åŒ–æˆ `"hot"` (åœ¨ `wdList` ä¸­ï¼ŒåŠ å…¥ `nextLevel`)
   - `wdList` ç§»é™¤ `"hot"`
   - `nextLevel = {"hot"}`

3. **ç¬¬äºŒè½® BFS**

   - `curLevel = {"hot"}`, `ans = 3`
   - `"hot"` -> å˜åŒ–æˆ `"dot"`ã€`"lot"` (åœ¨ `wdList` ä¸­ï¼ŒåŠ å…¥ `nextLevel`)
   - `wdList` ç§»é™¤ `"dot"`, `"lot"`
   - `nextLevel = {"dot", "lot"}`

4. **ç¬¬ä¸‰è½® BFS**

   - `curLevel = {"dot", "lot"}`, `ans = 4`
   - `"dot"` -> å˜åŒ–æˆ `"dog"` (åœ¨ `wdList` ä¸­ï¼ŒåŠ å…¥ `nextLevel`)
   - `"lot"` -> å˜åŒ–æˆ `"log"` (åœ¨ `wdList` ä¸­ï¼ŒåŠ å…¥ `nextLevel`)
   - `wdList` ç§»é™¤ `"dog"`, `"log"`
   - `nextLevel = {"dog", "log"}`

5. **ç¬¬å››è½® BFS**

   - `curLevel = {"dog", "log"}`, `ans = 5`
   - `"dog"` -> å˜åŒ–æˆ `"cog"` (ç›®æ ‡å•è¯ï¼Œè¿”å› `ans = 5`)

#### **æœ€ç»ˆè¾“å‡º**

```
5
```

å› ä¸ºæœ€çŸ­è½¬æ¢è·¯å¾„æ˜¯ï¼š

```

hit -> hot -> dot -> dog -> cog
```

æ€»å…± 5 æ­¥ï¼Œå› æ­¤è¿”å› `5`ã€‚

------

### **æ€»ç»“**

- è¯¥ç®—æ³•ä½¿ç”¨ **åŒå‘ BFS** è¿›è¡Œæœç´¢ï¼Œæ¯æ¬¡åªæ‰©å±•å½“å‰å±‚çš„å•è¯ï¼Œé¿å…é‡å¤éå†ã€‚
- `curLevel` ç”¨äºå­˜å‚¨å½“å‰å±‚çš„å•è¯ï¼Œè€Œ `nextLevel` å­˜å‚¨ä¸‹ä¸€å±‚çš„å•è¯ã€‚
- é€šè¿‡ `wdList.removeAll(curLevel)` åŠæ—¶æ¸…ç†è®¿é—®è¿‡çš„å•è¯ï¼Œé˜²æ­¢å†—ä½™è®¡ç®—ã€‚
- æ—¶é—´å¤æ‚åº¦è¿‘ä¼¼ä¸º **O(N \* 26^L)**ï¼Œå…¶ä¸­ `N` æ˜¯ `wordList` çš„å¤§å°ï¼Œ`L` æ˜¯å•è¯çš„é•¿åº¦ï¼Œ`26^L` ä»£è¡¨å•è¯å˜æ¢çš„å¯èƒ½æ€§ã€‚

è¿™æ ·ï¼Œä½ åº”è¯¥èƒ½æ¸…æ¥šç†è§£ä»£ç çš„é€»è¾‘å’Œæ‰§è¡Œè¿‡ç¨‹äº†ï¼ğŸ˜Š